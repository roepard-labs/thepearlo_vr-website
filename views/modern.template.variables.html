<!doctype html>
<html lang="es" data-bs-theme="dark">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="HomeLab AR - Aplicaci√≥n de Realidad Aumentada Inmersiva">
    <meta name="author" content="Roepard Labs">

    <title>HomeLab VR - Modern Template (Con Variables)</title>

    <!-- ============================================ -->
    <!-- NPM LOADER CONFIGURATION -->
    <!-- ============================================ -->
    <script src="../composables/npm-loader.js"></script>

    <!-- ============================================ -->
    <!-- ENV CONFIG (Generated from .env) -->
    <!-- ============================================ -->
    <script src="../composables/config.js"></script>

    <!-- ============================================ -->
    <!-- ‚ö†Ô∏è IMPORTANTE: Cargar Axios ‚Üí Router ‚Üí StatusCheck -->
    <!-- ============================================ -->
    <script>
        // PASO 1: Cargar Axios
        const axiosScript = document.createElement('script');
        axiosScript.src = getJSPath('axios');
        axiosScript.onload = function () {
            console.log('‚úÖ Axios cargado correctamente');

            // PASO 2: Cargar router.js DESPU√âS de Axios
            const routerScript = document.createElement('script');
            routerScript.src = '../composables/router.js';
            routerScript.onload = function () {
                console.log('‚úÖ Router.js cargado correctamente');

                // PASO 3: Cargar statusCheck.js DESPU√âS de router
                const statusCheckScript = document.createElement('script');
                statusCheckScript.src = '../utils/statusCheck.js';
                document.head.appendChild(statusCheckScript);
            };
            document.head.appendChild(routerScript);
        };
        document.head.appendChild(axiosScript);
    </script>

    <!-- ============================================ -->
    <!-- CSS DEPENDENCIES (Usando variables) -->
    <!-- ============================================ -->
    <script>
        // Cargar CSS usando las variables configuradas
        const cssToLoad = [
            'bootstrap', 'boxicons', 'sweetalert2', 'glightbox',
            'aos', 'animate', 'datatables', 'datatablesResponsive',
            'notyf', 'tippy', 'tippyScale', 'photoswipe', 'videojs',
            'tomselect', 'flatpickr', 'filepond'
        ];

        cssToLoad.forEach(name => {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = getCSSPath(name);
            document.head.appendChild(link);
        });
    </script>

    <!-- FontAwesome Kit (CDN) -->
    <script src="https://kit.fontawesome.com/c5f09bfc31.js" crossorigin="anonymous"></script>

    <!-- Custom CSS - Solo si existen -->
    <!-- <link href="../css/variables.css" rel="stylesheet"> -->
    <!-- <link href="../css/main.css" rel="stylesheet"> -->

    <style>
        /* Demo styles */
        .demo-section {
            padding: 3rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .demo-card:hover {
            border-color: rgba(0, 255, 136, 0.5);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
            transition: all 0.3s ease;
        }

        .badge-custom {
            background: linear-gradient(135deg, #00ff88 0%, #008866 100%);
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-weight: 600;
        }

        .glow-effect {
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        /* VR Demo Styles */
        #vr-demo-container {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        .clickable {
            cursor: pointer;
        }

        /* Animate objects on hover */
        a-box:hover,
        a-sphere:hover,
        a-cylinder:hover {
            opacity: 0.8;
        }

        /* Loading animation for VR */
        @keyframes vrPulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .vr-loading {
            animation: vrPulse 1.5s ease-in-out infinite;
        }

        /* ============================================ */
        /* CUSTOM THEME VARIABLES */
        /* ============================================ */

        /* Dark Mode (default) */
        [data-bs-theme="dark"] {
            --bs-body-color: #dee2e6;
            --bs-body-bg: #1a1a1a;
            --bs-border-color: rgba(255, 255, 255, 0.1);
            --bs-success: #00ff88;
            --bs-success-rgb: 0, 255, 136;
        }

        /* Light Mode */
        [data-bs-theme="light"] {
            --bs-body-color: #212529;
            --bs-body-bg: #ffffff;
            --bs-border-color: rgba(0, 0, 0, 0.1);
            --bs-success: #008866;
            --bs-success-rgb: 0, 136, 102;
        }

        /* Light mode specific adjustments */
        [data-bs-theme="light"] .demo-card {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 136, 102, 0.2);
        }

        [data-bs-theme="light"] .demo-card:hover {
            border-color: rgba(0, 136, 102, 0.5);
            box-shadow: 0 0 20px rgba(0, 136, 102, 0.2);
        }

        [data-bs-theme="light"] .badge-custom {
            background: linear-gradient(135deg, #008866 0%, #00ff88 100%);
        }

        [data-bs-theme="light"] #vr-demo-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        /* Theme toggle styling */
        .form-check-input:checked {
            background-color: var(--bs-success);
            border-color: var(--bs-success);
        }

        .form-check-input:focus {
            border-color: var(--bs-success);
            box-shadow: 0 0 0 0.25rem rgba(0, 255, 136, 0.25);
        }

        /* Smooth transitions for theme changes */
        body,
        .demo-card,
        .navbar,
        footer {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
    </style>
</head>

<body>
    <!-- ============================================ -->
    <!-- HEADER -->
    <!-- ============================================ -->
    <header class="bg-dark border-bottom border-success">
        <nav class="navbar navbar-expand-lg navbar-dark container">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">
                    <i class="bx bx-code-alt text-success"></i> HomeLab VR
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#components">Componentes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#examples">Ejemplos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#vr">VR/AR</a>
                        </li>
                        <li class="nav-item ms-3">
                            <div class="form-check form-switch mt-2">
                                <input class="form-check-input" type="checkbox" id="darkModeToggle" role="switch"
                                    aria-label="Toggle dark mode">
                                <label class="form-check-label" for="darkModeToggle">
                                    <i id="theme-icon" class="bx bx-moon text-warning"></i>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- ============================================ -->
    <!-- HERO SECTION -->
    <!-- ============================================ -->
    <section class="hero py-5 bg-gradient" data-aos="fade-up">
        <div class="container text-center">
            <h1 class="display-3 fw-bold mb-4 animate__animated animate__fadeInDown">
                <i class="bx bx-package text-success"></i>
                Modern Template con Variables NPM
            </h1>
            <p class="lead mb-4 animate__animated animate__fadeInUp">
                Dependencias centralizadas con <span class="badge-custom">npm-loader.js</span>
            </p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
                <span class="badge bg-success">Bootstrap 5.3</span>
                <span class="badge bg-primary">jQuery 3.7</span>
                <span class="badge bg-info">Chart.js 4.5</span>
                <span class="badge bg-warning text-dark">A-Frame 1.7</span>
                <span class="badge bg-danger">DataTables 2.3</span>
            </div>
        </div>
    </section>

    <!-- ============================================ -->
    <!-- COMPONENTS SHOWCASE -->
    <!-- ============================================ -->
    <section id="components" class="demo-section">
        <div class="container">
            <h2 class="text-center mb-5" data-aos="fade-up">
                <i class="bx bx-grid-alt text-success"></i> Componentes Disponibles
            </h2>

            <div class="row">
                <!-- SweetAlert2 Demo -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="100">
                    <div class="demo-card">
                        <h4><i class="bx bx-bell text-warning"></i> SweetAlert2</h4>
                        <p class="text-muted">Alertas elegantes y personalizables</p>
                        <button class="btn btn-warning btn-sm" onclick="demoSweetAlert()">
                            Ver Demo
                        </button>
                    </div>
                </div>

                <!-- Notyf Demo -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="demo-card">
                        <h4><i class="bx bx-notification text-info"></i> Notyf</h4>
                        <p class="text-muted">Notificaciones toast modernas</p>
                        <button class="btn btn-info btn-sm" onclick="demoNotyf()">
                            Ver Demo
                        </button>
                    </div>
                </div>

                <!-- Chart.js Demo -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="300">
                    <div class="demo-card">
                        <h4><i class="bx bx-bar-chart text-success"></i> Chart.js</h4>
                        <p class="text-muted">Gr√°ficos interactivos</p>
                        <div style="position: relative; height: 200px;">
                            <canvas id="demoChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- DataTables Demo -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="400">
                    <div class="demo-card">
                        <h4><i class="bx bx-table text-primary"></i> DataTables</h4>
                        <p class="text-muted">Tablas con b√∫squeda y paginaci√≥n</p>
                        <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#datatableModal">
                            Ver Demo
                        </button>
                    </div>
                </div>

                <!-- TomSelect Demo -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="500">
                    <div class="demo-card">
                        <h4><i class="bx bx-select-multiple text-secondary"></i> TomSelect</h4>
                        <p class="text-muted">Select avanzado con b√∫squeda</p>
                        <select id="demo-select" class="form-select" multiple>
                            <option value="1">Bootstrap</option>
                            <option value="2">jQuery</option>
                            <option value="3">Chart.js</option>
                            <option value="4">A-Frame</option>
                            <option value="5">DataTables</option>
                        </select>
                    </div>
                </div>

                <!-- Config Info -->
                <div class="col-md-6 col-lg-4 mb-4" data-aos="fade-up" data-aos-delay="600">
                    <div class="demo-card">
                        <h4><i class="bx bx-cog text-info"></i> NPM Config</h4>
                        <p class="text-muted">Configuraci√≥n centralizada</p>
                        <button class="btn btn-info btn-sm" onclick="showNPMConfig()">
                            Ver Config
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================ -->
    <!-- DATATABLES MODAL -->
    <!-- ============================================ -->
    <div class="modal fade" id="datatableModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content bg-dark">
                <div class="modal-header border-success">
                    <h5 class="modal-title">
                        <i class="bx bx-table text-success"></i> DataTables Demo
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <table id="demo-datatable" class="table table-dark table-striped table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Juan P√©rez</td>
                                <td>juan@example.com</td>
                                <td><span class="badge bg-danger">Admin</span></td>
                                <td><span class="badge bg-success">Activo</span></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Mar√≠a Garc√≠a</td>
                                <td>maria@example.com</td>
                                <td><span class="badge bg-primary">Usuario</span></td>
                                <td><span class="badge bg-success">Activo</span></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Carlos L√≥pez</td>
                                <td>carlos@example.com</td>
                                <td><span class="badge bg-info">Moderador</span></td>
                                <td><span class="badge bg-warning text-dark">Pendiente</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- VR/AR DEMO SECTION -->
    <!-- ============================================ -->
    <section id="vr" class="demo-section bg-dark">
        <div class="container">
            <h2 class="text-center mb-5" data-aos="fade-up">
                <i class="bx bx-glasses-alt text-warning"></i> Demo VR/AR
            </h2>

            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="demo-card">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h4><i class="bx bx-cube text-warning"></i> Escena A-Frame Interactiva</h4>
                            <button class="btn btn-warning btn-sm" onclick="toggleVRDemo()">
                                <i class="bx bx-play-circle"></i> <span id="vr-toggle-text">Iniciar Demo</span>
                            </button>
                        </div>

                        <div id="vr-demo-container"
                            style="display: none; position: relative; height: 500px; border: 2px solid rgba(0, 255, 136, 0.3); border-radius: 1rem; overflow: hidden;">
                            <!-- A-Frame Scene -->
                            <a-scene id="vr-scene" embedded vr-mode-ui="enabled: false"
                                renderer="antialias: true; colorManagement: true; sortObjects: true; physicallyCorrectLights: true; maxCanvasWidth: 1920; maxCanvasHeight: 1920"
                                stats="false" style="width: 100%; height: 100%;">
                                <!-- Assets -->
                                <a-assets>
                                    <img id="sky-texture"
                                        src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg"
                                        crossorigin="anonymous">
                                </a-assets>

                                <!-- Sky -->
                                <a-sky src="#sky-texture" rotation="0 -130 0"></a-sky>

                                <!-- Ground -->
                                <a-plane position="0 0 -4" rotation="-90 0 0" width="10" height="10" color="#7BC8A4"
                                    shadow></a-plane>

                                <!-- Lights -->
                                <a-light type="ambient" color="#BBB"></a-light>
                                <a-light type="directional" color="#FFF" intensity="0.6" position="-0.5 1 1"></a-light>

                                <!-- Interactive Objects (data-raycastable para optimizaci√≥n) -->
                                <a-box position="-1 0.5 -3" rotation="0 45 0" color="#00ff88"
                                    animation="property: rotation; to: 0 405 0; loop: true; dur: 10000" shadow
                                    class="clickable" data-raycastable>
                                    <a-animation begin="click" attribute="scale" to="1.5 1.5 1.5" dur="200"
                                        direction="alternate"></a-animation>
                                </a-box>

                                <a-sphere position="0 1.25 -5" radius="0.5" color="#0088ff"
                                    animation="property: position; to: 0 1.75 -5; loop: true; dur: 2000; dir: alternate; easing: easeInOutQuad"
                                    shadow class="clickable" data-raycastable>
                                </a-sphere>

                                <a-cylinder position="1 0.75 -3" radius="0.3" height="1.5" color="#ffaa00" shadow
                                    class="clickable" data-raycastable>
                                    <a-animation begin="click" attribute="color" to="#ff00aa" dur="500"
                                        direction="alternate"></a-animation>
                                </a-cylinder>

                                <!-- Torus Ring -->
                                <a-torus position="0 2 -4" color="#dc3545" arc="270" radius="1" radius-tubular="0.05"
                                    animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear"
                                    shadow>
                                </a-torus>

                                <!-- Text -->
                                <a-text value="HomeLab VR\nPowered by npm" color="#00ff88" position="0 2.5 -3"
                                    align="center" width="5"
                                    animation="property: rotation; to: 0 360 0; loop: true; dur: 20000">
                                </a-text>

                                <!-- Camera with optimized cursor raycaster -->
                                <a-entity camera look-controls wasd-controls position="0 1.6 0">
                                    <a-cursor color="#00ff88" fuse="true" fuse-timeout="1500"
                                        raycaster="objects: [data-raycastable]; far: 20"></a-cursor>
                                </a-entity>
                            </a-scene>

                            <!-- VR Controls Overlay -->
                            <div
                                style="position: absolute; bottom: 20px; left: 20px; background: rgba(0, 0, 0, 0.7); padding: 15px; border-radius: 0.5rem; color: #fff; font-size: 0.85rem; z-index: 1000;">
                                <strong>üéÆ Controles:</strong><br>
                                <span class="badge bg-success me-1">Mouse</span> Mirar alrededor<br>
                                <span class="badge bg-primary me-1">Click</span> Interactuar con objetos<br>
                                <span class="badge bg-warning text-dark me-1">WASD</span> Mover c√°mara
                            </div>
                        </div>

                        <div class="mt-3">
                            <small class="text-muted">
                                <i class="bx bx-info-circle"></i>
                                Demo usando <strong>A-Frame 1.7.1</strong> cargado desde node_modules
                            </small>
                        </div>
                    </div>

                    <!-- VR Stats Card -->
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <div class="demo-card text-center">
                                <i class="bx bx-package display-4 text-success"></i>
                                <h5 class="mt-2">A-Frame</h5>
                                <small class="text-muted">v1.7.1</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="demo-card text-center">
                                <i class="bx bx-cube display-4 text-info"></i>
                                <h5 class="mt-2">Three.js</h5>
                                <small class="text-muted">r181</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="demo-card text-center">
                                <i class="bx bx-camera display-4 text-warning"></i>
                                <h5 class="mt-2">AR.js</h5>
                                <small class="text-muted">v2.2.2</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================ -->
    <!-- FOOTER -->
    <!-- ============================================ -->
    <footer class="bg-dark border-top border-success py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0 text-muted">
                <i class="bx bx-code-alt text-success"></i>
                HomeLab VR - Template con Variables NPM
            </p>
            <small class="text-muted">Roepard Labs ¬© 2025</small>
        </div>
    </footer>

    <!-- ============================================ -->
    <!-- JAVASCRIPT DEPENDENCIES (Carga secuencial correcta) -->
    <!-- ============================================ -->

    <!-- CORE: jQuery primero (requerido por Bootstrap y DataTables) -->
    <script>
        const jqueryScript = document.createElement('script');
        jqueryScript.src = getJSPath('jquery');
        jqueryScript.onload = function () {
            console.log('‚úÖ jQuery cargado');
            loadCoreLibraries();
        };
        document.body.appendChild(jqueryScript);

        // PASO 2: Cargar Bootstrap y Popper (despu√©s de jQuery)
        function loadCoreLibraries() {
            const popperScript = document.createElement('script');
            popperScript.src = getJSPath('popper');
            document.body.appendChild(popperScript);

            const bootstrapScript = document.createElement('script');
            bootstrapScript.src = getJSPath('bootstrap');
            bootstrapScript.onload = function () {
                console.log('‚úÖ Bootstrap cargado');
                loadDataTables();
            };
            document.body.appendChild(bootstrapScript);
        }

        // PASO 3: Cargar DataTables (despu√©s de jQuery)
        function loadDataTables() {
            const dtScript = document.createElement('script');
            dtScript.src = getJSPath('datatables');
            dtScript.onload = function () {
                console.log('‚úÖ DataTables core cargado');
                loadDataTablesBS5();
            };
            document.body.appendChild(dtScript);
        }

        // PASO 3.1: DataTables Bootstrap 5 integration
        function loadDataTablesBS5() {
            const dtBS5Script = document.createElement('script');
            dtBS5Script.src = getJSPath('datatablesBS5');
            dtBS5Script.onload = function () {
                console.log('‚úÖ DataTables BS5 cargado');
                loadDataTablesResponsive();
            };
            document.body.appendChild(dtBS5Script);
        }

        // PASO 3.2: DataTables Responsive
        function loadDataTablesResponsive() {
            const dtResponsiveScript = document.createElement('script');
            dtResponsiveScript.src = getJSPath('datatablesResponsive');
            dtResponsiveScript.onload = function () {
                console.log('‚úÖ DataTables Responsive cargado');
                loadDataTablesResponsiveBS5();
            };
            document.body.appendChild(dtResponsiveScript);
        }

        // PASO 3.3: DataTables Responsive Bootstrap 5
        function loadDataTablesResponsiveBS5() {
            const dtResponsiveBS5Script = document.createElement('script');
            dtResponsiveBS5Script.src = getJSPath('datatablesResponsiveBS5');
            dtResponsiveBS5Script.onload = function () {
                console.log('‚úÖ DataTables Responsive BS5 cargado');
                console.log('‚úÖ DataTables completamente inicializado');
                loadOtherLibraries();
            };
            document.body.appendChild(dtResponsiveBS5Script);
        }

        // PASO 4: Cargar resto de librer√≠as
        function loadOtherLibraries() {
            const otherLibs = [
                // Nota: Axios ya fue cargado en el <head>
                'aos', 'anime', 'sweetalert2', 'chart', 'dayjs',
                'glightbox', 'notyf', 'tippy', 'tomselect',
                'flatpickr', 'filepond', 'filepondEncode', 'videojs'
            ];

            otherLibs.forEach(name => {
                const script = document.createElement('script');
                script.src = getJSPath(name);
                document.body.appendChild(script);
            });

            console.log('‚úÖ Todas las librer√≠as est√°n carg√°ndose...');
        }

        // PASO 5: Cargar VR/AR cuando se necesite (lazy loading)
        let vrLibrariesLoaded = false;

        function loadVRLibraries(callback) {
            if (vrLibrariesLoaded) {
                if (callback) callback();
                return;
            }

            console.log('ü•Ω Cargando librer√≠as VR/AR...');

            // A-Frame primero
            const aframeScript = document.createElement('script');
            aframeScript.src = getVRPath('aframe');
            aframeScript.onload = function () {
                console.log('‚úÖ A-Frame cargado');
                vrLibrariesLoaded = true;
                if (callback) callback();
            };
            document.head.appendChild(aframeScript);
        }

        // Toggle VR Demo
        window.toggleVRDemo = function () {
            const container = document.getElementById('vr-demo-container');
            const toggleText = document.getElementById('vr-toggle-text');

            if (container.style.display === 'none') {
                // Cargar VR libraries si no est√°n cargadas
                loadVRLibraries(function () {
                    container.style.display = 'block';
                    toggleText.textContent = 'Detener Demo';
                    notyf.success('Demo VR iniciado - Usa el mouse para mirar alrededor');
                });
            } else {
                container.style.display = 'none';
                toggleText.textContent = 'Iniciar Demo';
            }
        };
    </script>

    <!-- Color Mode Toggler para Bootstrap 5.3+ -->
    <script src="../composables/color-mode-toggler.js"></script>

    <!-- ============================================ -->
    <!-- CUSTOM INITIALIZATION SCRIPT -->
    <!-- ============================================ -->
    <script>
        // Esperar a que todas las librer√≠as se carguen
        window.addEventListener('load', function () {

            // Initialize AOS
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: true,
                offset: 100
            });

            // Initialize Notyf
            window.notyf = new Notyf({
                duration: 4000,
                position: {
                    x: 'right',
                    y: 'top'
                },
                types: [{
                    type: 'success',
                    background: '#00ff88',
                    icon: {
                        className: 'bx bx-check-circle',
                        tagName: 'i',
                        color: '#fff'
                    }
                },
                {
                    type: 'error',
                    background: '#ff4444',
                    icon: {
                        className: 'bx bx-x-circle',
                        tagName: 'i',
                        color: '#fff'
                    }
                },
                {
                    type: 'info',
                    background: '#0088ff',
                    icon: {
                        className: 'bx bx-info-circle',
                        tagName: 'i',
                        color: '#fff'
                    }
                }
                ]
            });

            // Initialize TomSelect
            new TomSelect('#demo-select', {
                plugins: ['remove_button'],
                maxItems: 3,
                placeholder: 'Selecciona dependencias...'
            });

            // Initialize Chart.js con configuraci√≥n optimizada
            const ctx = document.getElementById('demoChart');
            if (ctx) {
                const chart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Bootstrap', 'jQuery', 'Chart.js', 'A-Frame', 'DataTables'],
                        datasets: [{
                            data: [30, 20, 15, 20, 15],
                            backgroundColor: [
                                '#0d6efd',
                                '#0dcaf0',
                                '#00ff88',
                                '#ffaa00',
                                '#dc3545'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        aspectRatio: 1,
                        animation: {
                            duration: 800
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'bottom',
                                labels: {
                                    color: '#fff',
                                    font: {
                                        size: 10
                                    }
                                }
                            }
                        }
                    }
                });
                console.log('‚úÖ Chart.js inicializado correctamente');
            }

            // Initialize DataTables
            $(document).ready(function () {
                $('#demo-datatable').DataTable({
                    responsive: true,
                    language: {
                        url: 'https://cdn.datatables.net/plug-ins/1.13.7/i18n/es-ES.json'
                    },
                    pageLength: 5,
                    lengthMenu: [5, 10, 25, 50]
                });
            });

            // Reporte de dependencias cargadas
            reportLoadedDependencies();

            notyf.success('¬°Todas las dependencias cargadas desde variables NPM!');
        });

        // ========================================
        // DEMO FUNCTIONS
        // ========================================

        function demoSweetAlert() {
            Swal.fire({
                title: '¬°Genial!',
                html: `
                    <p>SweetAlert2 funcionando con:</p>
                    <code>${getCSSPath('sweetalert2')}</code>
                    <br><br>
                    <code>${getJSPath('sweetalert2')}</code>
                `,
                icon: 'success',
                confirmButtonText: 'Perfecto',
                confirmButtonColor: '#00ff88',
                background: '#1a1a1a',
                color: '#fff',
                iconColor: '#00ff88'
            });
        }

        function demoNotyf(type = 'success') {
            const messages = {
                success: 'Operaci√≥n exitosa con Notyf',
                error: 'Error de demostraci√≥n',
                info: 'Informaci√≥n importante'
            };

            notyf.open({
                type: type,
                message: messages[type] || messages.success
            });
        }

        function showNPMConfig() {
            Swal.fire({
                title: '‚öôÔ∏è Configuraci√≥n NPM',
                html: `
                    <div class="text-start">
                        <p><strong>Base Path:</strong></p>
                        <code>${NPM_CONFIG.basePath}</code>
                        
                        <p class="mt-3"><strong>Ejemplo CSS:</strong></p>
                        <code>${getCSSPath('bootstrap')}</code>
                        
                        <p class="mt-3"><strong>Ejemplo JS:</strong></p>
                        <code>${getJSPath('jquery')}</code>
                        
                        <p class="mt-3"><strong>Ventajas:</strong></p>
                        <ul class="small">
                            <li>‚úÖ Centralizaci√≥n de rutas</li>
                            <li>‚úÖ F√°cil mantenimiento</li>
                            <li>‚úÖ Carga din√°mica</li>
                            <li>‚úÖ Verificaci√≥n de carga</li>
                        </ul>
                    </div>
                `,
                confirmButtonText: 'Entendido',
                confirmButtonColor: '#00ff88',
                background: '#1a1a1a',
                color: '#fff',
                width: '600px'
            });
        }

        // Smooth Scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>